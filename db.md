#### 1. Что такое ACID и за счет чего обеспечивается каждое правило?
+ __Атомарность__ означает что транзакция или выполнится полностью, или не выполнится вообще. Не будет так, что часть команд транзакции выполнится, а другая часть нет. Обеспечивается с помощью rollback(система откатится до предыдущего состояния)
+ __Согласованность__ - значит что данные сохраняют свою целостность, логичность, что они будут находиться в таком виде, в каком задумывалась.  Обеспечивается самим разработчиком
+ __Изолированность__ - означает что все транзакции выполняются изолированно друг от друга, то есть одна транзакция не сможет прочить/использовать данные другой транзакции. Это гарантируется уровнями изолированности
+ __Надеждность__ - даже если что-то произошло с устройством, где выполнилсь транзакции, после починки БД останется в исходном состоянии без изменений. Обеспечивается с помощью журнала транзакций

#### 2. Журнал транзакций
СУБД сохраняет информацию для восстаовления БД для случаев логических или физических сбоев.
Если конкретнее, то в последоватльном порядке записываются все изменения, происходившие с БД.

#### 3. Уровни изоляции транзакций

|Уровень изоляции|Фантомное чтение|Неповторяющееся чтение|"Грязное" чтение|Потерянное обновление|
|---|---|---|---|---|
|__SERILIZABLE__|+|+|+|+|
|__REPEATABLE READ__ (MySQL)|-|+|+|+|
|__READ COMMITTED__ (PostgreSQL)|-|-|+|+|
|__READ UNCOMMITTED__|-|-|-|+|

__READ UNCOMMITED__ (самая низкая согласованность, самая высокая производительность) - транзакция видит _незафксированные_ изменения тдругой транзакции.    
__READ COMMITED__ - транзакция видит _зафиксированные_ изменения другой транзакции.    
__REPEATABLE READ__ - не видим измененные и удаленные записи другой транзакции, но видим вставленные записи.    
__SERIALIZABLE__ (самая высокая согласованность, самая низкая производительность) - две транзакции в обсолютной изоляции друг от друга.  

#### 4. Проблемы параллельного выполнения транзакций
+ __Фантомное чтение__ - одна транзакция выбирает значения по некоторому _условию_ и получила один результат. Потом, вторая транзакция добавляет данные, которые соответсвуют этому условию. Первая транзакция повторяет чтение, и получает данные, которых раньше не было.
+ __Неповторяющееся чтение__ - одна транзакция изменяет данные, другая читает. Вторая транзакция читает данные, и получает одно значение. Потом она снова читает данные, но получает уже другое значение. Всё дело в том, что вторая транзакция прочла промежутчное значение первой транзакции. 
+ __"Грязное" чтение__ - также одна транзакция изменяет данные, вторая читает. Первая транзакция изменяет данные, вторая считала промежуточное значение. Первая транзакция откатила свои изменения. Вторая транзакция продолжает работать с промежуточными значениями. 
+ __Потерянное обновление__ - две транзакции одновременно изменяют одни и те же данные. Исходные данные у обоих транзакций были одинаковые, а в итоге в БД запишутся изменения той транзакции, которая закончила работу последней.

#### 6. `HAVING` vs `WHERE`
`HAVING` аналогичен `WHERE` с единственным отличием что он используется для групп.
 
#### 7. Можно  ли использовать HAVING без WHERE?
Можно.

#### 8. Назовите агрегатные функции в SQL.
SUM, MIN, MAN, AVG, COUNT

#### 9. Что такое SQL инъекции? 
Когда мы можем в SQL запрос внедрить SQL команды, который приведут к неправильному поведению программы

#### 9. Cложность поиска по индексу
Логарифмическая `O(log(n))`

#### 9. Виды связей между таблицами в реляционной БД. Как реализуются эти связи? 
* Один к одному (Уникальное значение ссылается на другое уникальное значение. Например, когда таблицы связаны по первичным ключам)
![](https://github.com/Primisen/interview/blob/master/pictures/one-to-one.png)
* Один ко многим (Наиболее часто встречающеея отношение. Когда уникальное значение связано с неуникальным столбцом, то есть одной запсии соответсвует несколько других из другой таблицы)
* Многие ко многим

#### 10. Нормализация БД (первые три нормальные формы)

#### 11. Масштабирование БД

#### 12. Виды индексов БД
* _Кластеризованный._ Хранит значения в отсортированном порядке: по возрастанию/убыванию, поэтому может быть только один. В листьях дерева хранит конкретные значения, а не ссылку на них.
* _Некластеризованный._ Хранит в листьях дерева ссылку на реальные значения.
* _Составной._ Такой индекс может содержать более одного столбца (до 16 столбцов). Может быть как кластеризованнм, так и не кластеризованным. 
* _Уникальный._ Такой индекс гарантирует уникальность каждого значения в индексируемом столбце.
* _Покрывающий._ Позволяет получить все данные строки без дополнительного обращения к БД.

#### 9. Нереляционные базы данных

#### 10. Как мне объединить два запроса? 

#### 11. Какой уровень изоляции в MySQL и PostreSQL по умолчанию?
MySQL - REPEATABLE READ        
PostgreSQL - READ COMMITED     

#### 14. Таблица View в БД
Таблица в которой хранятся сохраненный SELECT запросы

#### 15. Тип SERIAL
Тип данных SERIAL хранит последовательное целое число типа данных INT, которое автоматически назначается сервером базы данных при вставке новой строки. Серийный начальный номер по умолчанию равен 1, но вы можете назначить начальное значение n при создании или изменении таблицы.
